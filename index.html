<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Sctict//EN" 
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
	<meta http-equiv="content-type" content="text/html; charset=utf-8"/>
	<title>Raphaël Fournier</title>
	<meta name="author" content="Raphael Fournier"/>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="alternate" type="application/rss+xml" title="RSS 2.0" href="http://raphaelfournier.net/feed/rss" />
  <link rel="alternate" type="application/atom+xml" title="Atom 1.0" href="http://raphaelfournier.net/feed/atom" />
    <link rel="stylesheet" href="/css/style.css" type="text/css" media="screen, projection" />
    <link rel="stylesheet" href="/css/responsive.css" type="text/css" media="screen, projection" />
    <link rel="stylesheet" href="/css/prettify.css" type="text/css" media="screen, projection" />
	<!--<link rel="stylesheet" href="/css/styles.css" />-->
	<!--<link rel="stylesheet" href="/css/highlight.css" />-->
	<link rel="stylesheet" href="/css/vitae.css" />
  <!--<link rel="stylesheet" type="text/css" href="/css/mobile.css" media="handheld" />-->
  <link rel="shortcut icon" type="image/x-icon" href="/images/favicon.ico" /><!-- pour IE -->
  <link rel="icon" type="image/x-icon" href="/images/favicon.ico" /><!-- pour les navigateurs standards -->
	
	<script src="/js/prettify.js" type="text/javascript"></script>
</head>
<body onload="prettyPrint()">
	<div id="header-wrap">
    <header>
  <hgroup>
    <h1 class="aligncenter">
      Raphaël Fournier
    </h1>
    <!--<div id="site-description">code first, ask questions later</div>-->
  </hgroup>			
</header>
            
<div id="secondary" class="widget-area">
  <aside id="me" class="widget">
  <h3 class="big">
    <a href="/fr">accueil</a>
    &nbsp;/&nbsp;
    <a href="/">home</a>
  </h3>
    <div class="info">
      <h4>Author</h4>	
      <div class="about">
        <!--<strong>Rapha&euml;l Fournier</strong>-->
        <img class="grav" width="80px" src='/images/raphaelfournier.jpg' />
        <p>Computer science Ph. D student from Paris. Geek.</p>
        <ul>
          <li><a rel="about me" title="about" href="/about/">about</a></li>
          <li><a rel="research this" title="research" href="/research/">research</a></li>
          <li><a rel="teaching this" title="teaching" href="/teaching/">teaching</a></li>
        </ul>
      </div>

      <h4>Blog</h4>	
        <ul>
          <li><a rel="home page" title="homepage" href="/">blog home</a></li>
          <li><a rel="browse" title="browse the archives" href="/archives.html">archives</a></li>
          <li><a rel="browse" title="browse by tags" href="/tags/">tags</a></li>
        </ul>
      <h4>Social</h4>	
        <ul>
          <li><a rel="twitter" title="follow me on twitter!" href="http://www.twitter.com/fournier_r">@fournier_r</a></li>
          <li>
          <a rel="rss feed" title="receive update via rss" href="/feed/rss.xml">rss</a>
          </li>
        </ul>

    </div>
    <div class="short-info">
      <ul>
        <li><a rel="about me" title="about" href="/about/">about</a></li>
        <li><a rel="research this" title="research" href="/research/">research</a></li>
        <li><a rel="teaching this" title="teaching" href="/teaching/">teaching</a></li>
      </ul>
      <ul>
        <li><a rel="home page" title="homepage" href="/">blog home</a></li>
        <li><a rel="browse" title="browse the archives" href="/archives.html">archives</a></li>
        <li><a rel="browse" title="browse by tags" href="/tags/">tags</a></li>
      </ul>
      <ul>
        <li><a rel="twitter" title="follow me on twitter!" href="http://www.twitter.com/fournier_r">@fournier_r</a></li>
        <li> <a rel="rss feed" title="receive update via rss" href="/feed/rss.xml">rss</a> </li>
      </ul>
    </div>
  </aside>
</div>

	</div>
	<div id="primary">
		<div id="content">
			<div class="infobulle">
  Hello, I'm Rapha&euml;l. I am a Ph. D. student from Paris. You can learn more <a href="/about/">about me</a>, read the latest post of my blog below, and <a href="http://www.twitter.com/fournier_r">follow me</a> on twitter.
</div>




<h2 class="annee">Latest post</h2>


<div id="firstpost">
  
    <h1><a href="/2012/08/15/switch_from_makefile_to_fabric_file_for_latex_projects/" title="Switch from Makefile to Fabric file for Latex projects">Switch from Makefile to Fabric file for Latex projects</a></h1>
<p>While writing my Ph. D. thesis, I procrastinate by customizing my environment. I
have managed to reuse Tikitu de Jager <a href="http://www.logophile.org/LaTeX/MyThesisSetup">LateX setup</a> to compile
individual chapters of the manuscript. This is very useful to obtain dated-pdf
of a given chapter, with references, which can be send to friends/coworkers for
reviewing, without sending the full document.</p>

<p>I also took the time to replace the Makefile I usually use by a <a href="http://fabfile.org">fab
file</a>, which benefits from the Python syntax and is thus easier to
tweak.</p>

<p>Just put a file called <code>fabfile.py</code> in the folder where your .tex files reside.
Here is an excerpt of my fabfile :</p>

<pre><code>from fabric.api import local

# variables
SRC = "these"
FIGDIR = "figures"
PDFREADER = "zathura"
LATEXMODE = "pdflatex"
BIBTEX = "bibtex"

def execute(command):
  local(command)
  #local("echo %s"%command)

def move(output,chapter):
  command = "mv %s %s.pdf"%(output,chapter)
  execute(command)

def preview(chapter):
  print("previewing...")
  command1 = 'echo -e "awful.tag.viewmore({tags[1][6],awful.tag.selected(1)})" | awesome-client'
  command2 = PDFREADER +" "+ chapter+".pdf"
  execute(command1)
  execute(command2)

def clean():
  command = "rm -f *.aux *.log *.out *.ps *.toc *.nav *.snm *.dvi *.blg *.bbl *.nlo *.mtc* *.brf *.maf *.tdo"
  execute(command)

def chapter1(bibtex=True,display=True):
  chapter = "chapter1"
  make(chapter,bibtex)
  if display:
    preview(chapter)

def make(chapter,bibtex):
  command = LATEXMODE + " --output-directory=auxiliary " + chapter + "_wrapper.tex"
  bibtexcommand = BIBTEX + " auxiliary/" + chapter + "_wrapper"
  output = "auxiliary/" + chapter + "_wrapper" + ".pdf"
  execute(command)
  if bibtex == True:
    execute(command)
    execute(bibtexcommand)
    execute(command)
  move(output,chapter)
</code></pre>

<p>Let's review the file :</p>

<ul>
<li>The <code>execute()</code> function is just an alias for easier readibility of the code</li>
<li>The <code>clean()</code> function removes all the temporary files produced by a latex
compilation</li>
<li>The <code>make()</code> function lists the sequence of operations required for a full
compilation, using a switch whether I need to use <code>bibtex</code> to produce the list
of references or not</li>
<li><p>The <code>chapter1</code> function is called after one of my chapter. I can call it with
one of the following command:</p>

<pre><code>$ fab chapter1:bibtex=True,preview=False 
  # full compilation but no preview
$ fab chapter1:False,True 
  # quick compilation and opens a pdf viewer immediately after
$ fab chapter1 
  # defaults to bibtex=True and preview=True
</code></pre></li>
</ul>



  
</div>




<hr>


<h2 class="annee">Recent posts</h2>


<ul class="related">
  
    
  
    
    <li>    <span class="postdate">20-05-2012</span><a class="posturl" href="/2012/05/20/revue_de_web_1/">Revue de Web 1</a>
     <span class="categlink"><a href="/tags/revue de web/">revue de web</a></span> 
</li>
    
  
    
    <li>    <span class="postdate">13-05-2012</span><a class="posturl" href="/2012/05/13/les_conferences_treize_minutes_de_paris_7/">Les conférences Treize minutes de Paris 7</a>
     <span class="categlink"><a href="/tags/TED/">TED</a>, <a href="/tags/conferences/">conferences</a>, <a href="/tags/science/">science</a></span> 
</li>
    
  
</ul>




<hr>


<h2 class="annee">Selected posts</h2>


<ul class="related">
  
    
  
    
  
    
  
    
    <li>    <span class="postdate">08-01-2012</span><a class="posturl" href="/2012/01/08/say_no_to_acta/">Say no to ACTA!</a>
     <span class="categlink"><a href="/tags/acta/">acta</a>, <a href="/tags/quadrature/">quadrature</a></span> 
</li>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
</ul>




		</div>				
		<!--<footer> </footer>-->
	</div>
</body>
</html>
